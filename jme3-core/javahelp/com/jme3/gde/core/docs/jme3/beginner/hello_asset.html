


<h1><a name="getting_started_with_jme3_3_-_hello_assets" id="getting_started_with_jme3_3_-_hello_assets">Getting Started with JME3 (3) - Hello Assets</a></h1>
<div class="level1">

<p>

Previous: <a href="/com/jme3/gde/core/docs/jme3/beginner/hello_node.html" class="wikilink1" title="jme3:beginner:hello_node">Hello Node</a>,
Next: <a href="/com/jme3/gde/core/docs/jme3/beginner/hello_main_event_loop.html" class="wikilink1" title="jme3:beginner:hello_main_event_loop">Hello Main Event Loop</a>
</p>

<p>
In this Tutorial we will learn to load 3-D models and text into the scene graph, using the jME asset manager. You also learn how to arrive at the correct paths, and which file formats to use.
</p>

<p>
To use the example assets in a new jMonkeyPlatform project, right-click your project, select “Properties”, go to “Libraries”, press “Add Library” and add the “jme3-test-data” library.
</p>

<p>
<img src="nbdocs:/com/jme3/gde/core/docs/jme3/beginner/beginner-assets-models.png">
</p>

</div>
<!-- SECTION "Getting Started with JME3 (3) - Hello Assets" [1-602] -->
<h2><a name="code_sample" id="code_sample">Code Sample</a></h2>
<div class="level2">
<pre class="code java"><span class="kw1">package</span> <span class="co2">jme3test.helloworld</span>;
&nbsp;
<span class="kw1">import</span> <span class="co2">com.jme3.app.SimpleApplication</span>;
<span class="kw1">import</span> <span class="co2">com.jme3.font.BitmapText</span>;
<span class="kw1">import</span> <span class="co2">com.jme3.light.DirectionalLight</span>;
<span class="kw1">import</span> <span class="co2">com.jme3.material.Material</span>;
<span class="kw1">import</span> <span class="co2">com.jme3.math.Vector3f</span>;
<span class="kw1">import</span> <span class="co2">com.jme3.scene.Geometry</span>;
<span class="kw1">import</span> <span class="co2">com.jme3.scene.Spatial</span>;
<span class="kw1">import</span> <span class="co2">com.jme3.scene.shape.Box</span>;
&nbsp;
<span class="co3">/** Sample 3 - how to load an OBJ model, and OgreXML model, 
 * a material/texture, or text. */</span>
<span class="kw1">public</span> <span class="kw1">class</span> HelloAssets <span class="kw1">extends</span> SimpleApplication <span class="br0">&#123;</span>
&nbsp;
    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        HelloAssets app <span class="sy0">=</span> <span class="kw1">new</span> HelloAssets<span class="br0">&#40;</span><span class="br0">&#41;</span>;
        app.<span class="me1">start</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;
    <span class="br0">&#125;</span>
&nbsp;
    @Override
    <span class="kw1">public</span> <span class="kw4">void</span> simpleInitApp<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
        Spatial teapot <span class="sy0">=</span> assetManager.<span class="me1">loadModel</span><span class="br0">&#40;</span><span class="st0">&quot;Models/Teapot/Teapot.obj&quot;</span><span class="br0">&#41;</span>;
        Material mat_default <span class="sy0">=</span> <span class="kw1">new</span> Material<span class="br0">&#40;</span> 
            assetManager, <span class="st0">&quot;Common/MatDefs/Misc/ShowNormals.j3md&quot;</span><span class="br0">&#41;</span>;
        teapot.<span class="me1">setMaterial</span><span class="br0">&#40;</span>mat_default<span class="br0">&#41;</span>;
        rootNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>teapot<span class="br0">&#41;</span>;
&nbsp;
        <span class="co1">// Create a wall with a simple texture from test_data</span>
        <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Abox+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object><span class="br0">&#40;</span>Vector3f.<span class="me1">ZERO</span>, 2.5f,2.5f,1.0f<span class="br0">&#41;</span>;
        Spatial wall <span class="sy0">=</span> <span class="kw1">new</span> Geometry<span class="br0">&#40;</span><span class="st0">&quot;Box&quot;</span>, box <span class="br0">&#41;</span>;
        Material mat_brick <span class="sy0">=</span> <span class="kw1">new</span> Material<span class="br0">&#40;</span> 
            assetManager, <span class="st0">&quot;Common/MatDefs/Misc/SimpleTextured.j3md&quot;</span><span class="br0">&#41;</span>;
        mat_brick.<span class="me1">setTexture</span><span class="br0">&#40;</span><span class="st0">&quot;m_ColorMap&quot;</span>, 
            assetManager.<span class="me1">loadTexture</span><span class="br0">&#40;</span><span class="st0">&quot;Textures/Terrain/BrickWall/BrickWall.jpg&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
        wall.<span class="me1">setMaterial</span><span class="br0">&#40;</span>mat_brick<span class="br0">&#41;</span>;
        wall.<span class="me1">setLocalTranslation</span><span class="br0">&#40;</span>2.0f,<span class="sy0">-</span>2.5f,0.0f<span class="br0">&#41;</span>;
        rootNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>wall<span class="br0">&#41;</span>;
&nbsp;
        <span class="co1">// Display a line of text with a default font</span>
        guiNode.<span class="me1">detachAllChildren</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;
        guiFont <span class="sy0">=</span> assetManager.<span class="me1">loadFont</span><span class="br0">&#40;</span><span class="st0">&quot;Interface/Fonts/Default.fnt&quot;</span><span class="br0">&#41;</span>;
        BitmapText helloText <span class="sy0">=</span> <span class="kw1">new</span> BitmapText<span class="br0">&#40;</span>guiFont, <span class="kw2">false</span><span class="br0">&#41;</span>;
        helloText.<span class="me1">setSize</span><span class="br0">&#40;</span>guiFont.<span class="me1">getCharSet</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">getRenderedSize</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
        helloText.<span class="me1">setText</span><span class="br0">&#40;</span><span class="st0">&quot;Hello World&quot;</span><span class="br0">&#41;</span>;
        helloText.<span class="me1">setLocalTranslation</span><span class="br0">&#40;</span><span class="nu0">300</span>, helloText.<span class="me1">getLineHeight</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, 0<span class="br0">&#41;</span>;
        guiNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>helloText<span class="br0">&#41;</span>;
&nbsp;
        <span class="co1">// Load a model from test_data (OgreXML + material + texture)</span>
        Spatial ninja <span class="sy0">=</span> assetManager.<span class="me1">loadModel</span><span class="br0">&#40;</span><span class="st0">&quot;Models/Ninja/Ninja.mesh.xml&quot;</span><span class="br0">&#41;</span>;
        ninja.<span class="me1">scale</span><span class="br0">&#40;</span>0.05f, 0.05f, 0.05f<span class="br0">&#41;</span>;
        ninja.<span class="me1">rotate</span><span class="br0">&#40;</span>0.0f, <span class="sy0">-</span>3.0f, 0.0f<span class="br0">&#41;</span>;
        ninja.<span class="me1">setLocalTranslation</span><span class="br0">&#40;</span>0.0f, <span class="sy0">-</span>5.0f, <span class="sy0">-</span>2.0f<span class="br0">&#41;</span>;
        rootNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>ninja<span class="br0">&#41;</span>;
        <span class="co1">// You must add a light to make the model visible</span>
        DirectionalLight sun <span class="sy0">=</span> <span class="kw1">new</span> DirectionalLight<span class="br0">&#40;</span><span class="br0">&#41;</span>;
        sun.<span class="me1">setDirection</span><span class="br0">&#40;</span><span class="kw1">new</span> Vector3f<span class="br0">&#40;</span><span class="sy0">-</span>0.1f, <span class="sy0">-</span>0.7f, <span class="sy0">-</span>1.0f<span class="br0">&#41;</span><span class="br0">&#41;</span>;
        rootNode.<span class="me1">addLight</span><span class="br0">&#40;</span>sun<span class="br0">&#41;</span>;
&nbsp;
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
<p>
Build and run the code sample. You should see a green Ninja with a colorful teapot standing behind a wall. The text on the screen should say “Hello World”.

</p>

</div>
<!-- SECTION "Code Sample" [603-3220] -->
<h2><a name="the_asset_manager" id="the_asset_manager">The Asset Manager</a></h2>
<div class="level2">

<p>

JME3 comes with a handy asset manager that helps you keep your assets structured. Project assets are media files such as models, materials, textures, scenes, shaders, sounds, and fonts. The asset manager maintains a root that contains the classpath, so it can load any file from the current classpath (the top level of your project directory). 
</p>

<p>
Additionally, the assetManager can be configured to add any path to the assets root, so assets can be loaded from directories you specify. <strong>In a jMonkeyPlatform project, jME3 seaches for models in the <code>assets</code> directory of your project.</strong> This is our recommended directory structure for storing assets:
</p>
<pre class="code">
assets/Interface/
assets/MatDefs/
assets/Materials/
assets/Models/
assets/Scenes/
assets/Shaders/
assets/Sounds/
assets/Textures/
build.xml
src/...
dist/...
</pre>

<p>
These are just the most common examples, you can name the directories inside the assets directory how you like.
</p>

</div>
<!-- SECTION "The Asset Manager" [3221-4191] -->
<h3><a name="loading_textures" id="loading_textures">Loading Textures</a></h3>
<div class="level3">

<p>

Place the textures in a subdirectory of <code>assets/Textures/</code>. Load the texture into the material before you set the Material. The following code sample is from the <code>simpleInitApp()</code> method:
</p>
<pre class="code java">        <span class="co1">// Create a wall with a simple texture from test_data</span>
        <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Abox+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object><span class="br0">&#40;</span>Vector3f.<span class="me1">ZERO</span>, 2.5f,2.5f,1.0f<span class="br0">&#41;</span>;
        Spatial wall <span class="sy0">=</span> <span class="kw1">new</span> Geometry<span class="br0">&#40;</span><span class="st0">&quot;Box&quot;</span>, box <span class="br0">&#41;</span>;
        Material mat_brick <span class="sy0">=</span> <span class="kw1">new</span> Material<span class="br0">&#40;</span> 
            assetManager, <span class="st0">&quot;Common/MatDefs/Misc/SimpleTextured.j3md&quot;</span><span class="br0">&#41;</span>;
        mat_brick.<span class="me1">setTexture</span><span class="br0">&#40;</span><span class="st0">&quot;m_ColorMap&quot;</span>, 
            assetManager.<span class="me1">loadTexture</span><span class="br0">&#40;</span><span class="st0">&quot;Textures/Terrain/BrickWall/BrickWall.jpg&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
        wall.<span class="me1">setMaterial</span><span class="br0">&#40;</span>mat_brick<span class="br0">&#41;</span>;
        wall.<span class="me1">setLocalTranslation</span><span class="br0">&#40;</span>2.0f,<span class="sy0">-</span>2.5f,0.0f<span class="br0">&#41;</span>;
        rootNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>wall<span class="br0">&#41;</span>;</pre>
<p>
In most cases, you use default material descriptions such as “SimpleTextured.j3md”, as we do in this example. Advanced users can create <a href="/com/jme3/gde/core/docs/jme3/beginner/hello_material.html" class="wikilink1" title="jme3:beginner:hello_material">custom Materials</a>. 
</p>

</div>
<!-- SECTION "Loading Textures" [4192-5143] -->
<h3><a name="loading_text_and_fonts" id="loading_text_and_fonts">Loading Text and Fonts</a></h3>
<div class="level3">

<p>

This example displays “Hello Text” in the default font at the bottom edge of the window. You attach text to the <code>guiNode</code>, a special node for flat (orthogonal) display elements. You can clear existing text in the guiNode by detaching all its children.
The following code sample goes into the <code>simpleInitApp()</code> method.
</p>
<pre class="code java">        <span class="co1">// Display a line of text with a default font</span>
        guiNode.<span class="me1">detachAllChildren</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;
        guiFont <span class="sy0">=</span> assetManager.<span class="me1">loadFont</span><span class="br0">&#40;</span><span class="st0">&quot;Interface/Fonts/Default.fnt&quot;</span><span class="br0">&#41;</span>;
        BitmapText helloText <span class="sy0">=</span> <span class="kw1">new</span> BitmapText<span class="br0">&#40;</span>guiFont, <span class="kw2">false</span><span class="br0">&#41;</span>;
        helloText.<span class="me1">setSize</span><span class="br0">&#40;</span>guiFont.<span class="me1">getCharSet</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">getRenderedSize</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
        helloText.<span class="me1">setText</span><span class="br0">&#40;</span><span class="st0">&quot;Hello World&quot;</span><span class="br0">&#41;</span>;
        helloText.<span class="me1">setLocalTranslation</span><span class="br0">&#40;</span><span class="nu0">300</span>, helloText.<span class="me1">getLineHeight</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, 0<span class="br0">&#41;</span>;
        guiNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>helloText<span class="br0">&#41;</span>;</pre>
</div>
<!-- SECTION "Loading Text and Fonts" [5144-5972] -->
<h3><a name="loading_an_ogre_xml_model" id="loading_an_ogre_xml_model">Loading an Ogre XML Model</a></h3>
<div class="level3">

<p>

Export your model in OgreXML format (.mesh.xml, .scene, .material, .skeleton.xml) and place it in a subdirectory of <code>assets/Models/</code>. The following code sample goes into the <code>simpleInitApp()</code> method.
</p>
<pre class="code java">        <span class="co1">// Load a model from test_data (OgreXML + material + texture)</span>
        Spatial ninja <span class="sy0">=</span> assetManager.<span class="me1">loadModel</span><span class="br0">&#40;</span><span class="st0">&quot;Models/Ninja/Ninja.mesh.xml&quot;</span><span class="br0">&#41;</span>;
        ninja.<span class="me1">scale</span><span class="br0">&#40;</span>0.05f, 0.05f, 0.05f<span class="br0">&#41;</span>;
        ninja.<span class="me1">rotate</span><span class="br0">&#40;</span>0.0f, <span class="sy0">-</span>3.0f, 0.0f<span class="br0">&#41;</span>;
        ninja.<span class="me1">setLocalTranslation</span><span class="br0">&#40;</span>0.0f, <span class="sy0">-</span>5.0f, <span class="sy0">-</span>2.0f<span class="br0">&#41;</span>;
        rootNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>ninja<span class="br0">&#41;</span>;
        <span class="co1">// You must add a light to make the model visible</span>
        DirectionalLight sun <span class="sy0">=</span> <span class="kw1">new</span> DirectionalLight<span class="br0">&#40;</span><span class="br0">&#41;</span>;
        sun.<span class="me1">setDirection</span><span class="br0">&#40;</span><span class="kw1">new</span> Vector3f<span class="br0">&#40;</span><span class="sy0">-</span>0.1f, <span class="sy0">-</span>0.7f, <span class="sy0">-</span>1.0f<span class="br0">&#41;</span><span class="br0">&#41;</span>;
        rootNode.<span class="me1">addLight</span><span class="br0">&#40;</span>sun<span class="br0">&#41;</span>;</pre>
<p>
If you use the build script created by the jMonkeyPlatform then, by default, <strong>the original OgreXML files will not be included in your distributed game.</strong> You will get an error message when trying to load them. 
</p>
<pre class="code">com.jme3.asset.DesktopAssetManager loadAsset
WARNING: Cannot locate resource: Scenes/town/main.scene
com.jme3.app.Application handleError
SEVERE: Uncaught exception thrown in Thread[LWJGL Renderer Thread,5,main]
java.lang.NullPointerException
</pre>

<p>
For the release build, you should work with .j3o files only. Use the jMonkeyPlatform&#039;s context menu action to <a href="/com/jme3/gde/core/docs/jme3/jmonkeyplatform/model_loader_and_viewer.html" class="wikilink1" title="jme3:jmonkeyplatform:model_loader_and_viewer">convert OgreXML models to .j3o format</a>.
</p>

</div>
<!-- SECTION "Loading an Ogre XML Model" [5973-7436] -->
<h3><a name="loading_assets_from_custom_paths" id="loading_assets_from_custom_paths">Loading Assets From Custom Paths</a></h3>
<div class="level3">

<p>

What if your game relies on user supplied model files, that will not be included in your distribution? If a file is not located in the default location, you can register a custom Locator and load it from any path. 
</p>

<p>
Here is a usage example of a ZipLocator that is registered to a file <code>town.zip</code> in the top level of your project directory:
</p>
<pre class="code java">    assetManager.<span class="me1">registerLocator</span><span class="br0">&#40;</span><span class="st0">&quot;town.zip&quot;</span>, ZipLocator.<span class="kw1">class</span>.<span class="me1">getName</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
    Spatial scene <span class="sy0">=</span> assetManager.<span class="me1">loadModel</span><span class="br0">&#40;</span><span class="st0">&quot;main.scene&quot;</span><span class="br0">&#41;</span>;
    rootNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>scene<span class="br0">&#41;</span>;</pre>
<p>
Here is a HttpZipLocator that can download zipped models:
</p>
<pre class="code java">    assetManager.<span class="me1">registerLocator</span><span class="br0">&#40;</span><span class="st0">&quot;http://jmonkeyengine.googlecode.com/files/wildhouse.zip&quot;</span>, 
                                 HttpZipLocator.<span class="kw1">class</span>.<span class="me1">getName</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
    Spatial scene <span class="sy0">=</span> assetManager.<span class="me1">loadModel</span><span class="br0">&#40;</span><span class="st0">&quot;main.scene&quot;</span><span class="br0">&#41;</span>;
    rootNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>scene<span class="br0">&#41;</span>;</pre>
<p>
JME3 offers ClasspathLocator, ZipLocator, FileLocator, HttpZipLocator, and UrlLocator (see <code>com.jme3.asset.plugins</code>). 
</p>

</div>
<!-- SECTION "Loading Assets From Custom Paths" [7437-8461] -->
<h2><a name="creating_models_and_scenes" id="creating_models_and_scenes">Creating Models and Scenes</a></h2>
<div class="level2">

<p>

To create 3D models and scenes, you need a 3D Mesh Editor such as Blender, with an OgreXML Exporter plugin. Create your models with <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://en.wikibooks.org/wiki/Blender_3D:_Noob_to_Pro/UV_Map_Basics"><param name="text" value="<html><u>UV textures</u></html>"><param name="textColor" value="blue"></object>.
You can use the <a href="/com/jme3/gde/core/docs/jme3/jmonkeyplatform.html" class="wikilink1" title="jme3:jmonkeyplatform">jMonkeyPlatform</a> to <a href="/com/jme3/gde/core/docs/jme3/jmonkeyplatform/model_loader_and_viewer.html" class="wikilink1" title="jme3:jmonkeyplatform:model_loader_and_viewer">load models</a> and <a href="/com/jme3/gde/core/docs/jme3/jmonkeyplatform/scene_composer.html" class="wikilink1" title="jme3:jmonkeyplatform:scene_composer">create scenes</a> from them. 
</p>

<p>
<br/>

Export your models as Ogre <acronym title="Extensible Markup Language">XML</acronym> meshes with materials. 
</p>
<ol>
<li class="level1"><div class="li"> Open the menu File &gt; Export &gt; OgreXML Exporter to open the exporter dialog.</div>
</li>
<li class="level1"><div class="li"> In the Export Materials field: Give the material the same name as the model. For example, the model <code>something.mesh.xml</code> goes with <code>something.material</code>, plus (optionally) <code>something.skeleton.xml</code> and some <acronym title="Joint Photographics Experts Group">JPG</acronym> files.</div>
</li>
<li class="level1"><div class="li"> In the Export Meshes field: Select a subdirectory of your <code>assets/Models/</code> directory. E.g. <code>assets/Models/something/</code>.</div>
</li>
<li class="level1"><div class="li"> Activate the following exporter settings: </div>
<ul>
<li class="level2"><div class="li"> Copy Textures: YES</div>
</li>
<li class="level2"><div class="li"> Rendering Materials: YES</div>
</li>
<li class="level2"><div class="li"> Flip Axis: YES</div>
</li>
<li class="level2"><div class="li"> Require Materials: YES</div>
</li>
<li class="level2"><div class="li"> Skeleton name follows mesh: YES</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Click export.</div>
</li>
</ol>

<p>

<strong>File Format:</strong> JME 3 can load Ogre <acronym title="Extensible Markup Language">XML</acronym> models, materials, and scenes, as well as Wavefront OBJ+MTL models. For the game release, you should optimize model loading by converting all models to JME3&#039;s .j3o format. We recommend creating your project in the <a href="/com/jme3/gde/core/docs/jme3/jmonkeyplatform.html" class="wikilink1" title="jme3:jmonkeyplatform">jMonkeyPlatform</a>, it contains an integrated j3o converter. 

</p>
<ol>
<li class="level1"><div class="li"> Open your JME3 Project in the jMonkeyplatform.</div>
</li>
<li class="level1"><div class="li"> Right-click a .mesh.xml file in the Projects (or Favorites) window, and choose “convert to JME3 binary”. </div>
</li>
<li class="level1"><div class="li"> The .j3o file appears next to the .mesh.xml file with the same name. </div>
</li>
<li class="level1"><div class="li"> If you use the build script generated by the jMonkeyPlatform, mesh.xml files and obj files will be excluded from the executable JAR. If you get a runtime exception, make sure you have converted all models to .j3o.</div>
</li>
</ol>

</div>
<!-- SECTION "Creating Models and Scenes" [8462-10392] -->
<h3><a name="loading_models_and_scenes" id="loading_models_and_scenes">Loading Models and Scenes</a></h3>
<div class="level3">
<table class="inline">
	<tr class="row0">
		<th class="col0"> Task? </th><th class="col1"> Solution! </th>
	</tr>
	<tr class="row1">
		<td class="col0"> Load a model with materials </td><td class="col1"> Use the asset managers <code>loadModel()</code> method and attach the Spatial to the rootNode. <pre class="code java">Spatial elephant <span class="sy0">=</span> assetManager.<span class="me1">loadModel</span><span class="br0">&#40;</span><span class="st0">&quot;Models/Elephant/Elephant.mesh.xml&quot;</span><span class="br0">&#41;</span>;
rootNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>elephant<span class="br0">&#41;</span>;</pre><pre class="code java">Spatial elephant <span class="sy0">=</span> assetManager.<span class="me1">loadModel</span><span class="br0">&#40;</span><span class="st0">&quot;Models/Elephant/Elephant.j3o&quot;</span><span class="br0">&#41;</span>;
rootNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>elephant<span class="br0">&#41;</span>;</pre></td>
	</tr>
	<tr class="row2">
		<td class="col0"> Load a model without materials </td><td class="col1"> If you have a model without materials, you have to add a default material to make it visible. <pre class="code java">Spatial teapot <span class="sy0">=</span> assetManager.<span class="me1">loadModel</span><span class="br0">&#40;</span><span class="st0">&quot;Models/Teapot/Teapot.obj&quot;</span><span class="br0">&#41;</span>;
Material mat <span class="sy0">=</span> <span class="kw1">new</span> Material<span class="br0">&#40;</span>assetManager, <span class="st0">&quot;Common/MatDefs/Misc/ShowNormals.j3md&quot;</span><span class="br0">&#41;</span>;
teapot.<span class="me1">setMaterial</span><span class="br0">&#40;</span>mat<span class="br0">&#41;</span>;
rootNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>teapot<span class="br0">&#41;</span>;</pre></td>
	</tr>
	<tr class="row3">
		<td class="col0"> Load a scene </td><td class="col1"> You load scenes just like you load models: <pre class="code java">Spatial scene <span class="sy0">=</span> assetManager.<span class="me1">loadModel</span><span class="br0">&#40;</span><span class="st0">&quot;Scenes/house/main.scene&quot;</span><span class="br0">&#41;</span>;
rootNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>scene<span class="br0">&#41;</span>;</pre></td>
	</tr>
</table>

</div>
<!-- SECTION "Loading Models and Scenes" [10393-11358] -->
<h3><a name="excercise_-_how_to_load_assets" id="excercise_-_how_to_load_assets">Excercise - How to Load Assets</a></h3>
<div class="level3">

<p>

As an exercise, let&#039;s try different ways of loading a scene. You can load a scene directly, or from a zip file: 

</p>
<ol>
<li class="level1"><div class="li"> <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://jmonkeyengine.googlecode.com/svn/branches/jme3/town.zip"><param name="text" value="<html><u>Download the town.zip</u></html>"><param name="textColor" value="blue"></object> sample scene. </div>
</li>
<li class="level1"><div class="li"> Unzip town.zip. You get a directory named <code>town</code> which contains xml and texture files.</div>
</li>
<li class="level1"><div class="li"> Place the town.zip file in the top level directory of your JME3 project: <pre class="code">jMonkeyProjects$ ls -1 MyProject/
assets/
build.xml
src/
town.zip
</pre>
</div>
</li>
</ol>

<p>

Use the following method to load models from a zip file:

</p>
<ol>
<li class="level1"><div class="li"> Make sure <code>town.zip</code> is in the project directory.</div>
</li>
<li class="level1"><div class="li"> We register a zip file locator to the project directory. The loadModel() method now searches this zip directly for the files to load. <br/>
 (That is, <em>do not</em> write <code>town.zip/main.scene</code> or similar.)  </div>
</li>
<li class="level1"><div class="li"> Add the following code under <code>simpleInitApp() {</code><pre class="code java">    assetManager.<span class="me1">registerLocator</span><span class="br0">&#40;</span><span class="st0">&quot;town.zip&quot;</span>, ZipLocator.<span class="kw1">class</span>.<span class="me1">getName</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
    Spatial gameLevel <span class="sy0">=</span> assetManager.<span class="me1">loadModel</span><span class="br0">&#40;</span><span class="st0">&quot;main.scene&quot;</span><span class="br0">&#41;</span>;
    gameLevel.<span class="me1">setLocalTranslation</span><span class="br0">&#40;</span>0, <span class="sy0">-</span>5.2f, 0<span class="br0">&#41;</span>;
    gameLevel.<span class="me1">setLocalScale</span><span class="br0">&#40;</span><span class="nu0">2</span><span class="br0">&#41;</span>;
    rootNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>gameLevel<span class="br0">&#41;</span>;</pre></div>
</li>
<li class="level1"><div class="li"> Clean, build and run the project. You should see the Ninja+wall+teapot standing in a town. </div>
</li>
</ol>

<p>

If you register new locators, make sure you do not get any file name conflicts: Give each scene a unique name.
</p>

<p>
Earlier in this tutorial, you loaded scenes and models from the asset directory. This is the most common way you will be loading scenes and models. Here is the typical procedure:

</p>
<ol>
<li class="level1"><div class="li"> Remove the code from the previous exercise.</div>
</li>
<li class="level1"><div class="li"> Move the unzipped <code>town/</code> directory into the <code>assets/Scenes/</code> directory of your project.</div>
</li>
<li class="level1"><div class="li"> Add the following code under <code>simpleInitApp() {</code> <pre class="code java">    Spatial gameLevel <span class="sy0">=</span> assetManager.<span class="me1">loadModel</span><span class="br0">&#40;</span><span class="st0">&quot;Scenes/town/main.scene&quot;</span><span class="br0">&#41;</span>;
    gameLevel.<span class="me1">setLocalTranslation</span><span class="br0">&#40;</span>0, <span class="sy0">-</span>5.2f, 0<span class="br0">&#41;</span>;
    gameLevel.<span class="me1">setLocalScale</span><span class="br0">&#40;</span><span class="nu0">2</span><span class="br0">&#41;</span>;
    rootNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>gameLevel<span class="br0">&#41;</span>;</pre></div>
</li>
<li class="level1"><div class="li"> Note that the path starts relative to the <code>assets/…</code> directory.</div>
</li>
<li class="level1"><div class="li"> Clean, build and run the project. Again, you should see the Ninja+wall+teapot standing in a town. </div>
</li>
</ol>

<p>

Here is a third method you must know. Loading a scene/model from a .j3o file:

</p>
<ol>
<li class="level1"><div class="li"> Remove the code from the previous exercise.</div>
</li>
<li class="level1"><div class="li"> If you haven&#039;t already, open the <a href="/com/jme3/gde/core/docs/jme3/jmonkeyplatform.html" class="wikilink1" title="jme3:jmonkeyplatform">jMonkeyPlatform</a> and open the project that contains the Hello Asset class.</div>
</li>
<li class="level1"><div class="li"> In the projects window, browse to the <code>assets/Scenes/town</code> directory. </div>
</li>
<li class="level1"><div class="li"> Right-click the <code>main.scene</code> and convert the scene to binary: The jMoneyPlatform generates a main.j3o file.</div>
</li>
<li class="level1"><div class="li"> Add the following code under <code>simpleInitApp() {</code><pre class="code java">    Spatial gameLevel <span class="sy0">=</span> assetManager.<span class="me1">loadModel</span><span class="br0">&#40;</span><span class="st0">&quot;Scenes/town/main.j3o&quot;</span><span class="br0">&#41;</span>;
    gameLevel.<span class="me1">setLocalTranslation</span><span class="br0">&#40;</span>0, <span class="sy0">-</span>5.2f, 0<span class="br0">&#41;</span>;
    gameLevel.<span class="me1">setLocalScale</span><span class="br0">&#40;</span><span class="nu0">2</span><span class="br0">&#41;</span>;
    rootNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>gameLevel<span class="br0">&#41;</span>;</pre></div>
</li>
<li class="level1"><div class="li"> Again, note that the path starts relative to the <code>assets/…</code> directory.</div>
</li>
<li class="level1"><div class="li"> Clean, Build and run the project. Again, you should see the Ninja+wall+teapot standing in a town. </div>
</li>
</ol>

<p>

What is the difference between loading <code>Scenes/town/main.j3o</code> and <code>Scenes/town/main.scene</code>?
</p>
<ul>
<li class="level1"><div class="li"> <strong>You can work with *.scene and .xml files during the development phase:</strong> When your designer pushes updated files to the asset directory, you can quickly review the latest version in your development environment. </div>
</li>
<li class="level1"><div class="li"> <strong>Create and load *.j3o files for QA and release builds:</strong> .j3o is a binary format for jME3 applications, and .j3o files will be automatically included in the distributable JAR file. When you do QA test builds or are ready to release, use the jMonkeyPlatform to convert all .scene and .xml files to .j3o files, and load these.</div>
</li>
</ul>

</div>
<!-- SECTION "Excercise - How to Load Assets" [11359-15023] -->
<h2><a name="conclusion" id="conclusion">Conclusion</a></h2>
<div class="level2">

<p>

Now you know how to populate the scenegraph with static shapes and models, and how to build scenes. You have learned how to load assets using the <code>assetManager</code> and you have seen that the paths start relative to your project directory. Another important thing you have learned is to convert models to .j3o format for the JAR builds.
</p>

<p>
Let&#039;s add some action to the scene and continue with the <a href="/com/jme3/gde/core/docs/jme3/beginner/hello_main_event_loop.html" class="wikilink1" title="jme3:beginner:hello_main_event_loop">main event loop</a>.

</p>
<hr />

<p>
<strong>See also:</strong> 
</p>
<ul>
<li class="level1"><div class="li"> <a href="https://docs.google.com/fileview?id=0B9hhZie2D-fENDBlZDU5MzgtNzlkYi00YmQzLTliNTQtNzZhYTJhYjEzNWNk&amp;hl=en" class="urlextern" title="https://docs.google.com/fileview?id=0B9hhZie2D-fENDBlZDU5MzgtNzlkYi00YmQzLTliNTQtNzZhYTJhYjEzNWNk&amp;hl=en"  rel="nofollow">Exporting OgreXML scenes from Blender to jME</a> </div>
</li>
<li class="level1"><div class="li"> <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.jmonkeyengine.com/forum/index.php?topic=14418.0"><param name="text" value="<html><u>Screenshots of a great loaded model</u></html>"><param name="textColor" value="blue"></object></div>
</li>
<li class="level1"><div class="li"> If you want to learn how to load sounds, see <a href="/com/jme3/gde/core/docs/jme3/beginner/hello_audio.html" class="wikilink1" title="jme3:beginner:hello_audio">Hello Audio</a></div>
</li>
<li class="level1"><div class="li"> If you want to learn more about loading textures and materials, see <a href="/com/jme3/gde/core/docs/jme3/beginner/hello_material.html" class="wikilink1" title="jme3:beginner:hello_material">Hello Material</a></div>
</li>
</ul>

</div>
<!-- SECTION "Conclusion" [15024-] -->
<p><em><a href="http://jmonkeyengine.org/wiki/doku.php/jme3:beginner:hello_asset?do=export_xhtmlbody">view online version</a></em></p>