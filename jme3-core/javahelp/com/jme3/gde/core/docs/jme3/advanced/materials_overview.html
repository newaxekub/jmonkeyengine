


<h1><a name="materials_overview" id="materials_overview">Materials Overview</a></h1>
<div class="level1">

<p>

This table shows you which material definitions jME supplies by default, and how to use them to make the most of your designer&#039;s 3D models.

</p>
<ol>
<li class="level1"><div class="li"> Create Materials for your models by basing them on a Material Definition (.j3md)</div>
</li>
<li class="level1"><div class="li"> Customize Materials by supplying parameters such as specific textures, shininess values, etc.</div>
</li>
<li class="level1"><div class="li"> Save Materials and their parameter settings in .j3m files.</div>
</li>
</ol>

</div>
<!-- SECTION "Materials Overview" [1-422] -->
<h2><a name="table_of_material_definitions" id="table_of_material_definitions">Table of Material Definitions</a></h2>
<div class="level2">

<p>

Some parameters are “optional” because they are somewhat advanced. If you don&#039;t know what an option means, chances are that you are not using this feature in your textures – and you don&#039;t need to specify it. (E.g. YCoCg and LATC are image compression formats; Minnaert and WardIso are shader types.)
</p>

<p>
Also note that many other parameters are optional, even if they are not explicitly marked optional. For example, it&#039;s okay to specify solely the <code>m_DiffuseMap</code> and <code>m_NormalMap</code> when using <code>Lighting.j3md</code>. You are only using a subset of what is possible, but if that&#039;s what you want, you can do that. The developer should be in contact with the designer regarding what jME features individual Materials/Textures require.
</p>

</div>
<!-- SECTION "Table of Material Definitions" [423-1195] -->
<h3><a name="coloring_and_standard_textures" id="coloring_and_standard_textures">Coloring and Standard Textures</a></h3>
<div class="level3">
<table class="inline">
	<tr class="row0">
		<th class="col0 leftalign"> Material Definition                     </th><th class="col1"> Usage </th><th class="col2 leftalign"> Parameters  </th>
	</tr>
	<tr class="row1">
		<td class="col0"> Common/MatDefs/Misc/SimpleTextured.j3md </td><td class="col1"> Standard textured Material. </td><td class="col2"> m_ColorMap : Texture <br/>
 m_ShowAlpha : Boolean (optional) <br/>
 m_Normalize : Boolean (optional) <br/>
 m_YCoCg : Boolean  (optional) <br/>
 m_LATC : Boolean (optional) </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> Common/MatDefs/Misc/SolidColor.j3md     </td><td class="col1"> Standard solid colored material. Supports an optional glow colored effect.</td><td class="col2"> m_Color : Color <br/>
 m_GlowMap : Texture <br/>
 m_GlowColor : Color </td>
	</tr>
	<tr class="row3">
		<td class="col0"> Common/MatDefs/Misc/ColoredTextured.j3md</td><td class="col1"> Transparent texture plus one solid color bleeding through transparent areas </td><td class="col2"> m_ColorMap : Texture <br/>
 m_Color : Color </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> Common/MatDefs/Misc/Sky.j3md            </td><td class="col1"> A solid skyblue, or use with a custom SkyDome texture. <br/>
 See also: <a href="/com/jme3/gde/core/docs/jme3/advanced/sky.html" class="wikilink1" title="jme3:advanced:sky">Sky</a> </td><td class="col2"> m_Texture : TextureCubeMap <br/>
 m_SphereMap : Boolean <br/>
 m_NormalScale : Vector3 </td>
	</tr>
	<tr class="row5">
		<td class="col0"> Common/MatDefs/Terrain/Terrain.j3md </td><td class="col1"> Splat textures for e.g. terrains. <br/>
 See also: <a href="/com/jme3/gde/core/docs/jme3/beginner/hello_terrain.html" class="wikilink1" title="jme3:beginner:hello_terrain">Hello Terrain</a> </td><td class="col2"> Texture1 : Texture (red) <br/>
 Texture1Scale : Float <br/>
 Texture2 : Texture (green) <br/>
 Texture2Scale : Float <br/>
 Texture3 : Texture (blue)  <br/>
 Texture3Scale : Float <br/>
 Alpha : Texture </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> Common/MatDefs/Misc/Particle.j3md       </td><td class="col1"> Used with texture masks for particle effects, or for point sprites. Quadratic? Does support an optional colored glow effect. <br/>
 See also: <a href="/com/jme3/gde/core/docs/jme3/beginner/hello_effects.html" class="wikilink1" title="jme3:beginner:hello_effects">Hello Effects</a> </td><td class="col2"> m_Texture : Texture <br/>
 m_GlowMap : Texture <br/>
 m_GlowColor : Color <br/>
 m_Quadratic : Float <br/>
 m_PointSprite : Boolean </td>
	</tr>
</table>

</div>
<!-- SECTION "Coloring and Standard Textures" [1196-2743] -->
<h3><a name="light_and_shadow" id="light_and_shadow">Light and Shadow</a></h3>
<div class="level3">
<table class="inline">
	<tr class="row0">
		<th class="col0 leftalign"> Material Definition                     </th><th class="col1"> Usage </th><th class="col2 leftalign"> Parameters  </th>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> Common/MatDefs/Light/Lighting.j3md      </td><td class="col1"> Standard lit material with Phong Lighting. Use with SpecularMap, BumpMap, NormalMaps textures, Shininess, etc. <br/>
 Requires light source! </td><td class="col2"> m_DiffuseMap : Texture <br/>
 m_UseAlpha : Boolean <sup><a href="#fn__1" name="fnt__1" id="fnt__1" class="fn_top">1)</a></sup> <br/>
 m_NormalMap : Texture <br/>
 m_LATC : Boolean <sup><a href="#fn__2" name="fnt__2" id="fnt__2" class="fn_top">2)</a></sup> <br/>
 m_SpecularMap : Texture <br/>
 m_Shininess : Float <br/>
 m_ParallaxMap : Texture <br/>
 m_AlphaMap : Texture <br/>
 m_ColorRamp : Texture <br/>
 <strong>Glow (optional)</strong> <br/>
 m_GlowMap : Texture <br/>
 m_GlowColor : Color <br/>
 <strong>Performance and quality (optional)</strong> <br/>
 m_VertexLighting : Boolean <br/>
 m_UseVertexColor  : Boolean <br/>
 m_LowQuality : Boolean <br/>
 m_HighQuality : Boolean <br/>
 <strong>Material Colors (optional)</strong> <br/>
 m_UseMaterialColors : Boolean <br/>
 m_Diffuse : Color <br/>
  m_Ambient : Color <br/>
 m_Specular : Color <br/>
 <strong>Tangent shading (optional):</strong> <br/>
 m_VTangent : Boolean <br/>
 m_Minnaert : Boolean <br/>
 m_WardIso : Boolean </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> Common/MatDefs/Light/Reflection.j3md    </td><td class="col1"> Reflective glass material with environment map (CubeMap/SphereMap). <br/>
 Requires light source. <br/>
 See also: <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://code.google.com/p/jmonkeyengine/source/browse/branches/jme3/src/test/jme3test/texture/TestCubeMap.java"><param name="text" value="<html><u>TestCubeMap.java</u></html>"><param name="textColor" value="blue"></object> </td><td class="col2"> m_Texture : Texture <br/>
 m_SphereMap: Boolean </td>
	</tr>
</table>

</div>
<!-- SECTION "Light and Shadow" [2744-4179] -->
<h3><a name="testing_and_debugging" id="testing_and_debugging">Testing and Debugging</a></h3>
<div class="level3">
<table class="inline">
	<tr class="row0">
		<th class="col0 leftalign"> Material Definition                     </th><th class="col1"> Usage </th><th class="col2 leftalign"> Parameters  </th>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> Common/MatDefs/Misc/VertexColor.j3md    </td><td class="col1"> Every vertex gets a solid color, colors of mesh faces are interpolated. </td><td class="col2"> – </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> Common/MatDefs/Misc/ShowNormals.j3md    </td><td class="col1"> A color gradient calculated from surface normals. </td><td class="col2"> – </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> Common/MatDefs/Misc/WireColor.j3md      </td><td class="col1"> Transparent wireframe outline. </td><td class="col2"> m_Color : Color </td>
	</tr>
</table>

</div>
<!-- SECTION "Testing and Debugging" [4180-4598] -->
<h3><a name="internal_use_only" id="internal_use_only">Internal Use Only</a></h3>
<div class="level3">

<p>

You may also come across to mentions of the following Material Definition files, but they are only used internally.
</p>
<pre class="code">
Common/MatDefs/Blur/HGaussianBlur.j3md, VGaussianBlur.j3md, RadialBlur.j3md
Common/MatDefs/Light/LightScattering.j3md, Deferred.j3md 
Common/MatDefs/Shadow/PreShadow.j3md, PostShadow.j3md, PostShadowPSSM.j3md
Common/MatDefs/SSAO/normal.j3md, ssao.j3md 
Common/MatDefs/Gui/Gui.j3md  
Common/MatDefs/Hdr/LogLum.j3md, ToneMap.j3md</pre>

</div>
<!-- SECTION "Internal Use Only" [4599-5088] -->
<h2><a name="how_to_use_material_definitions_.j3md" id="how_to_use_material_definitions_.j3md">How to Use Material Definitions (.j3md)</a></h2>
<div class="level2">

</div>
<!-- SECTION "How to Use Material Definitions (.j3md)" [5089-5141] -->
<h3><a name="preparing_a_material" id="preparing_a_material">Preparing a Material</a></h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> Choose a Material Definition from the list that has the features that you need. </div>
<ul>
<li class="level2"><div class="li"> If you don&#039;t know, start with <code>SolidColor.j3md</code> or <code>SimpleTextured.j3md</code>.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Look at the applicable parameters:</div>
<ol>
<li class="level2"><div class="li"> Create and save the necessary Texture files to the assets directory.</div>
<ul>
<li class="level3"><div class="li"> ColorMap, or DiffuseMap, NormalMap, AlphaMap, etc…</div>
</li>
</ul>
</li>
<li class="level2"><div class="li"> Determine the required values to create the material effect that you want.</div>
<ul>
<li class="level3"><div class="li"> colors, floats, booleans, etc… </div>
</li>
</ul>
</li>
</ol>
</li>
</ol>

</div>
<!-- SECTION "Preparing a Material" [5142-5644] -->
<h3><a name="using_a_material" id="using_a_material">Using a Material</a></h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> In you Java code, create a Material object from the .j3md file: e.g. <pre class="code java">Material mat <span class="sy0">=</span> <span class="kw1">new</span> Material<span class="br0">&#40;</span>assetManager, <span class="st0">&quot;Common/MatDefs/Misc/ColoredTextured.j3md&quot;</span><span class="br0">&#41;</span>;</pre></div>
</li>
<li class="level1"><div class="li"> Configure your Material by setting the appropriate values. Here are examples how to set the different data types:</div>
<ul>
<li class="level2"><div class="li"> <code>mat.setColor(   “m_Color”,     RGBAColor.White );</code></div>
</li>
<li class="level2"><div class="li"> <code>mat.setTexture( “m_ColorMap”,  assetManager.loadTexture(“Interface/Logo/Monkey.png” );</code></div>
</li>
<li class="level2"><div class="li"> <code>mat.setFloat(   “m_Shininess”, 5f);</code></div>
</li>
<li class="level2"><div class="li"> <code>mat.setBoolean( “m_SphereMap”, true);</code></div>
</li>
<li class="level2"><div class="li"> <code>mat.setVector3( “m_NormalScale”, new Vector3f(1f,1f,1f));</code></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Use your prepared material on a mesh: <pre class="code java">thing.<span class="me1">setMaterial</span><span class="br0">&#40;</span>mat<span class="br0">&#41;</span>;</pre></div>
</li>
<li class="level1"><div class="li"> Optionally: You can adjust the texture scale: <pre class="code java">geometry.<span class="me1">scaleTextureCoordinates</span><span class="br0">&#40;</span><span class="kw1">new</span> Vector2f<span class="br0">&#40;</span>1f, .5f<span class="br0">&#41;</span><span class="br0">&#41;</span>;</pre></div>
</li>
</ol>

<p>

Typically, you prepare a set of custom materials in the <code>initSimpleApp()</code> method, and use them throughout the game.
</p>

</div>
<!-- SECTION "Using a Material" [5645-6618] -->
<h2><a name="how_to_create_.j3m_material_files" id="how_to_create_.j3m_material_files">How to Create .j3m Material files</a></h2>
<div class="level2">

<p>

In the previous section you learned how to configure a material programmatically in Java code. If you have certain commonly used Materials that never change, you can simplify the amount of Java code that clutters you init method: You can store a set of Material settings in a .j3m file, then you only need to call one setter, instead of several.
</p>

<p>
For every Material, create a file and give it a name that describes it:
</p>

<p>
<code>Materials/SimpleBump.j3m</code>
</p>

<p>
Edit the file and add content using the following Syntax:

</p>
<pre class="code">
Material Shiny bumpy rock : Common/MatDefs/Light/Lighting.j3md {
     MaterialParameters {
         m_Shininess: 8.0
         m_NormalMap: Textures/bump_rock_normal.png
         m_UseMaterialColors : true
         m_Ambient  : 0 0 0 1
         m_Diffuse  : 1 1 1 1
         m_Specular : 0 0 0 1
     }
}
</pre>

<p>
How to write this file: 
</p>
<ul>
<li class="level1"><div class="li"> <code>Material</code> is a fixed keyword.</div>
</li>
<li class="level1"><div class="li"> <code>Shiny bumpy rock</code> is a string that you can make up. Choose a name to help you remember for what you intend to use this material.</div>
</li>
<li class="level1"><div class="li"> After the colon, specify on which Material Definition you base your Material</div>
</li>
<li class="level1"><div class="li"> Look up the choosen Material Definition&#039;s <code>m_…</code> parameters and their parameter types from the table above, and add one line for each.</div>
<ul>
<li class="level2"><div class="li"> The series of four numbers are RGBA color values, for example.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Make sure to get the paths to the Textures and Material Definitions (.j3md) right. </div>
<ul>
<li class="level2"><div class="li"> The .j3md path is relative to jME3&#039;s Core Data directory <br/>
 <code>jme3/src/src/core-data/…</code></div>
</li>
<li class="level2"><div class="li"> The texture path is relative to your project&#039;s Assets directory <br/>
 <code>yourgame/src/assets/…</code></div>
</li>
</ul>
</li>
</ul>

</div>
<!-- SECTION "How to Create .j3m Material files" [6619-8270] -->
<h3><a name="how_to_use_.j3m_materials" id="how_to_use_.j3m_materials">How to Use .j3m Materials</a></h3>
<div class="level3">

<p>

This is how you use the prepared .j3m Material on a Spatial:
</p>
<pre class="code java">thing.<span class="me1">setMaterial</span><span class="br0">&#40;</span>assetManager.<span class="me1">loadAsset</span><span class="br0">&#40;</span><span class="st0">&quot;Materials/SimpleBump.j3m&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;</pre>
</div>
<!-- SECTION "How to Use .j3m Materials" [8271-8459] -->
<h3><a name="referencedata_types_in_.j3m_files" id="referencedata_types_in_.j3m_files">Reference: Data Types in .j3m Files</a></h3>
<div class="level3">

<p>
All data types(without Color) are fixed in com.jme3.shader.VarType.
“Color” is identified as Vector4 in J3MLoader.java.

</p>
<table class="inline">
	<tr class="row0">
		<th class="col0">Name</th><th class="col1">jME Java class</th><th class="col2">.j3m file syntax</th>
	</tr>
	<tr class="row1">
		<td class="col0"> Float</td><td class="col1"> </td><td class="col2"> a float (e.g. 0.72) , no comma or parentheses </td>
	</tr>
	<tr class="row2">
		<td class="col0"> Vector2</td><td class="col1"> </td><td class="col2 rightalign">  </td>
	</tr>
	<tr class="row3">
		<td class="col0"> Vector3 </td><td class="col1"> <code>com.jme3.math.Vector3f</code> </td><td class="col2"> Three floats, no comma or parentheses </td>
	</tr>
	<tr class="row4">
		<td class="col0"> Vector4</td><td class="col1"> </td><td class="col2 rightalign">  </td>
	</tr>
	<tr class="row5">
		<td class="col0"> Boolean</td><td class="col1"> </td><td class="col2"> true or false </td>
	</tr>
	<tr class="row6">
		<td class="col0"> Int</td><td class="col1"> </td><td class="col2 rightalign">  </td>
	</tr>
	<tr class="row7">
		<td class="col0"> FloatArray</td><td class="col1"> </td><td class="col2 rightalign">  </td>
	</tr>
	<tr class="row8">
		<td class="col0"> Vector2Array</td><td class="col1"> </td><td class="col2 rightalign">  </td>
	</tr>
	<tr class="row9">
		<td class="col0"> Vector3Array</td><td class="col1"> </td><td class="col2 rightalign">  </td>
	</tr>
	<tr class="row10">
		<td class="col0"> Vector4Array</td><td class="col1"> </td><td class="col2 rightalign">  </td>
	</tr>
	<tr class="row11">
		<td class="col0"> Matrix3</td><td class="col1"> </td><td class="col2 rightalign">  </td>
	</tr>
	<tr class="row12">
		<td class="col0"> Matrix4</td><td class="col1"> </td><td class="col2 rightalign">  </td>
	</tr>
	<tr class="row13">
		<td class="col0"> Matrix3Array</td><td class="col1"> </td><td class="col2 rightalign">  </td>
	</tr>
	<tr class="row14">
		<td class="col0"> Matrix4Array</td><td class="col1"> </td><td class="col2 rightalign">  </td>
	</tr>
	<tr class="row15">
		<td class="col0"> TextureBuffer</td><td class="col1"> </td><td class="col2 rightalign">  </td>
	</tr>
	<tr class="row16">
		<td class="col0"> Texture2D </td><td class="col1"> <code>com.jme3.texture.Texture</code> </td><td class="col2"> Path to texture in <code>assets</code> directory, no quotation marks </td>
	</tr>
	<tr class="row17">
		<td class="col0"> Texture3D</td><td class="col1"> </td><td class="col2 rightalign">  </td>
	</tr>
	<tr class="row18">
		<td class="col0"> TextureArray</td><td class="col1"> </td><td class="col2 rightalign">  </td>
	</tr>
	<tr class="row19">
		<td class="col0">TextureCubeMap</td><td class="col1"> </td><td class="col2 rightalign">  </td>
	</tr>
	<tr class="row20">
		<td class="col0"> Color </td><td class="col1"> <code>com.jme3.math.ColorRGBA</code> </td><td class="col2"> Four floats, no comma or parentheses </td>
	</tr>
</table>

</div>
<!-- SECTION "Reference: Data Types in .j3m Files" [8460-9304] -->
<h2><a name="transparency" id="transparency">Transparency</a></h2>
<div class="level2">

<p>

Most Material Definitions support an alpha channel for transparency. In an RGBA color, the last float is the alpha value, whereas 0.0f = transparent, 1.0f = opaque. 
</p>

<p>
For example: <code>mat.setColor(“m_Color”, new ColorRGBA(1,0,0,0.5f));</code> is a half-opaque red.
</p>

<p>
Additionally, specify a blendmode.
</p>
<table class="inline">
	<tr class="row0">
		<th class="col0">Option</th><th class="col1">Usage</th>
	</tr>
	<tr class="row1">
		<td class="col0">mat.getAdditionalRenderState().setBlendMode(BlendMode.Off);</td><td class="col1">Opaque</td>
	</tr>
	<tr class="row2">
		<td class="col0">mat.getAdditionalRenderState().setBlendMode(BlendMode.Alpha);</td><td class="col1">Use this for normal transparency</td>
	</tr>
	<tr class="row3">
		<td class="col0">mat.getAdditionalRenderState().setBlendMode(BlendMode.Additive);</td><td class="col1">Additive alpha blending add colors in a commutative way, i.e. the result does not depend on the order of transparent layers.</td>
	</tr>
	<tr class="row4">
		<td class="col0">mat.getAdditionalRenderState().setBlendMode(BlendMode.AlphaAdditive);</td><td class="col1">Alpha-additive alpha blending (?)</td>
	</tr>
	<tr class="row5">
		<td class="col0">mat.getAdditionalRenderState().setBlendMode(BlendMode.Color);</td><td class="col1">Color blending</td>
	</tr>
	<tr class="row6">
		<td class="col0">mat.getAdditionalRenderState().setBlendMode(BlendMode.Modulate);</td><td class="col1">Modulated (?) blending</td>
	</tr>
	<tr class="row7">
		<td class="col0">mat.getAdditionalRenderState().setBlendMode(BlendMode.ModulateX2);</td><td class="col1">Modulated (?) blending</td>
	</tr>
	<tr class="row8">
		<td class="col0">mat.getAdditionalRenderState().setBlendMode(BlendMode.PremultAlpha);</td><td class="col1">Premultiplied alpha blending</td>
	</tr>
	<tr class="row9">
		<td class="col0">mat.getAdditionalRenderState().setDepthTest(true);</td><td class="col1">Use this if you have several transparent objects obscuring one another.</td>
	</tr>
	<tr class="row10">
		<td class="col0">mat.getAdditionalRenderState().setAlphaFallOff(0.5f); <br/>
 mat.getAdditionalRenderState().setAlphaTest(true)</td><td class="col1">Transparency limit (?)</td>
	</tr>
</table>

</div>
<!-- SECTION "Transparency" [9305-10726] -->
<h2><a name="material_options" id="material_options">Material Options</a></h2>
<div class="level2">
<table class="inline">
	<tr class="row0">
		<td class="col0" colspan="2">mat.getAdditionalRenderState().setColorWrite(true);</td>
	</tr>
	<tr class="row1">
		<td class="col0">mat.getAdditionalRenderState().setFaceCullMode(FaceCullMode.Off); <br/>
 FaceCullMode.Front, FaceCullMode.Back, FaceCullMode.FrontAndBack</td><td class="col1">(de)activate back- and frontface culling</td>
	</tr>
	<tr class="row2">
		<td class="col0">mat.getAdditionalRenderState().setPointSprite(true);</td><td class="col1">?</td>
	</tr>
	<tr class="row3">
		<td class="col0">mat.getAdditionalRenderState().setPolyOffset();</td><td class="col1">?</td>
	</tr>
	<tr class="row4">
		<td class="col0">mat.getAdditionalRenderState().setWireFrame(true);</td><td class="col1">Switch to showing the (textured) Material in wireframe mode</td>
	</tr>
</table>

</div>
<!-- SECTION "Material Options" [10727-] --><div class="footnotes">
<div class="fn"><sup><a href="#fnt__1" id="fn__1" name="fn__1" class="fn_bot">1)</a></sup> 
m_UseAlpha specifies whether m_DiffuseMap uses the alpha channel</div>
<div class="fn"><sup><a href="#fnt__2" id="fn__2" name="fn__2" class="fn_bot">2)</a></sup> 
m_LATC Specifies whether m_NormalMap is BC5/ATI2n/LATC/3Dc-compressed</div>
</div>
<p><em><a href="http://jmonkeyengine.org/wiki/doku.php/jme3:advanced:materials_overview?do=export_xhtmlbody">view online version</a></em></p>