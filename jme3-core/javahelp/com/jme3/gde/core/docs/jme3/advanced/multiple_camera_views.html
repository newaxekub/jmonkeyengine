


<h1><a name="multiple_camera_views" id="multiple_camera_views">Multiple Camera Views</a></h1>
<div class="level1">

<p>

You can split the screen and look into the 3D scene from different camera angles at the same time. In this example, we create four views (2&times;2) with the same aspect ratio as the normal view, but half the size. 
</p>

<p>
The packages used in this example are <code>com.jme3.renderer.Camera</code> and <code>com.jme3.renderer.ViewPort</code>. You can get the full sample code here: <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://code.google.com/p/jmonkeyengine/source/browse/branches/jme3/src/test/jme3test/renderer/TestMultiViews.java"><param name="text" value="<html><u>TestMultiViews.java</u></html>"><param name="textColor" value="blue"></object>
</p>

</div>
<!-- SECTION "Multiple Camera Views" [1-529] -->
<h2><a name="set_up_the_first_view" id="set_up_the_first_view">Set up the First View</a></h2>
<div class="level2">

<p>

We use the preconfigured Camera <code>cam</code> and <code>viewPort</code> from <code>SimpleApplication</code> for the first view.
</p>
<pre class="code java">viewPort.<span class="me1">setBackgroundColor</span><span class="br0">&#40;</span>ColorRGBA.<span class="me1">Blue</span><span class="br0">&#41;</span>;
cam.<span class="me1">setViewPort</span><span class="br0">&#40;</span>.5f, 1f, 0f, 0.5f<span class="br0">&#41;</span>; <span class="co1">// resize the viewPort</span>
cam.<span class="me1">setLocation</span><span class="br0">&#40;</span><span class="kw1">new</span> Vector3f<span class="br0">&#40;</span>3.3212643f, 4.484704f, 4.2812433f<span class="br0">&#41;</span><span class="br0">&#41;</span>;
cam.<span class="me1">setRotation</span><span class="br0">&#40;</span><span class="kw1">new</span> Quaternion <span class="br0">&#40;</span><span class="sy0">-</span>0.07680723f, 0.92299235f, <span class="sy0">-</span>0.2564353f, <span class="sy0">-</span>0.27645364f<span class="br0">&#41;</span><span class="br0">&#41;</span>;</pre>
<p>
Place the main camera in the scene and rotate it in its start position. 
</p>

<p>
We will have a detailed look at how we use setViewPort() to position and resize the default view later.
</p>

</div>
<!-- SECTION "Set up the First View" [530-1127] -->
<h2><a name="set_up_three_additional_views" id="set_up_three_additional_views">Set up Three Additional Views</a></h2>
<div class="level2">

<p>

Here is the outline for how you create the three other cams and viewPorts (<object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://code.google.com/p/jmonkeyengine/source/browse/branches/jme3/src/test/jme3test/renderer/TestMultiViews.java"><param name="text" value="<html><u>Full code sample is here</u></html>"><param name="textColor" value="blue"></object>.) In the code snippet, <code>cam_n</code> stand for <code>cam_2</code> - <code>cam_4</code>, respectively, same for <code>view_n</code>.

</p>
<ol>
<li class="level1"><div class="li"> Clone the first cam to reuse its settings</div>
</li>
<li class="level1"><div class="li"> Resize and position the cam&#039;s viewPort with setViewPort() – details below.</div>
</li>
<li class="level1"><div class="li"> Place the cameras in the scene and rotate them.</div>
</li>
<li class="level1"><div class="li"> Create a main view for each camera</div>
</li>
<li class="level1"><div class="li"> Reset the cameras&#039; enabled statuses</div>
</li>
<li class="level1"><div class="li"> Attach the rootNode to be displayed to this view</div>
<ol>
<li class="level2"><div class="li"> It doesn&#039;t have to be rootNode, but that is the most common use case</div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> You can set other optional view properties such as backgroundColor</div>
</li>
</ol>
<pre class="code java">Camera cam_n    <span class="sy0">=</span> cam.<span class="me1">clone</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;
cam_n.<span class="me1">setViewPort</span><span class="br0">&#40;</span>...<span class="br0">&#41;</span>; <span class="co1">// resize the viewPort</span>
cam_n.<span class="me1">setLocation</span><span class="br0">&#40;</span><span class="kw1">new</span> Vector3f<span class="br0">&#40;</span>...<span class="br0">&#41;</span><span class="br0">&#41;</span>;
cam_n.<span class="me1">setRotation</span><span class="br0">&#40;</span><span class="kw1">new</span> Quaternion<span class="br0">&#40;</span>...<span class="br0">&#41;</span><span class="br0">&#41;</span>;
&nbsp;
ViewPort view_n <span class="sy0">=</span> renderManager.<span class="me1">createMainView</span><span class="br0">&#40;</span><span class="st0">&quot;View of camera #n&quot;</span>, cam_n<span class="br0">&#41;</span>;
view_n.<span class="me1">setClearEnabled</span><span class="br0">&#40;</span><span class="kw2">true</span><span class="br0">&#41;</span>;
view_n.<span class="me1">attachScene</span><span class="br0">&#40;</span>rootNode<span class="br0">&#41;</span>;
view_n.<span class="me1">setBackgroundColor</span><span class="br0">&#40;</span>ColorRGBA.<span class="me1">Black</span><span class="br0">&#41;</span>;</pre>
</div>
<!-- SECTION "Set up Three Additional Views" [1128-2313] -->
<h2><a name="how_to_resize_and_position_the_viewports" id="how_to_resize_and_position_the_viewports">How to resize and position the ViewPorts</a></h2>
<div class="level2">

<p>

How does jme know which of the four views should appear where on the screen?
</p>

<p>
Imagine the view as a 1&times;1-sized box. By default, the settings is <code>cam.setViewPort(0f, 1f, 0f, 1f);</code>. This means the view takes up the whole box, from 0 to 1 left to right, and from 0 to 1 bottom to top.
</p>

<p>
In the <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://code.google.com/p/jmonkeyengine/source/browse/branches/jme3/src/test/jme3test/renderer/TestMultiViews.java"><param name="text" value="<html><u>code sample</u></html>"><param name="textColor" value="blue"></object>, note the following four lines:
</p>
<pre class="code java">cam.<span class="me1">setViewPort</span><span class="br0">&#40;</span>  0.5f, 1.0f, 0.0f, 0.5f<span class="br0">&#41;</span>;
...
<span class="me1">cam_2</span>.<span class="me1">setViewPort</span><span class="br0">&#40;</span>0.0f, 0.5f, 0.0f, 0.5f<span class="br0">&#41;</span>;
...
<span class="me1">cam_3</span>.<span class="me1">setViewPort</span><span class="br0">&#40;</span>0.0f, 0.5f, 0.5f, 1.0f<span class="br0">&#41;</span>;
...
<span class="me1">cam_4</span>.<span class="me1">setViewPort</span><span class="br0">&#40;</span>0.5f, 1.0f, 0.5f, 1.0f<span class="br0">&#41;</span>;</pre>
<p>
These viewport parameters are, in this order, the left - right - bottom - top extend of a camera&#039;s box on the screen. Note that we have set a few values to 0.5f – this is where we resize each view to half its default height and width.
</p>
<pre class="code">
0.0 , 1.0       1.0 , 1.0
       +----+----+
       |    |    |
       |cam3|cam4|
       +---------+
       |    |    |
       |cam2|cam |
       +----+----+
0.0 , 0.0       1.0 , 0.0</pre>

<p>
Example: Cam3&#039;s rect extends from bottom-left (0.0 , 0.5) to top-right (0.5 , 1.0)
</p>
<ul>
<li class="level1"><div class="li"> The left corner is at 0, and the right corner is 0.5 on the x axis. </div>
</li>
<li class="level1"><div class="li"> The bottom of the box is at 0.5 and the top at 1.0 on the y axis.</div>
</li>
</ul>

</div>
<!-- SECTION "How to resize and position the ViewPorts" [2314-3690] -->
<h2><a name="other_layouts" id="other_layouts">Other Layouts</a></h2>
<div class="level2">

<p>

This layout shows 2&times;2 views. For a split screen you may want to lay out two views, one above the other, or one next to the other.
</p>

<p>
If you scale the views in a way so that the aspect ratio changes, the views will obviously be distorted. In these cases, create custom camera objects with the right aspect ratio (redefine the default cam).  
</p>

</div>
<!-- SECTION "Other Layouts" [3691-] -->
<p><em><a href="http://jmonkeyengine.org/wiki/doku.php/jme3:advanced:multiple_camera_views?do=export_xhtmlbody">view online version</a></em></p>