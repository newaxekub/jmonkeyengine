


<h1><a name="getting_started_with_jme3_5_-_hello_input_system" id="getting_started_with_jme3_5_-_hello_input_system">Getting Started with JME3 (5) - Hello Input System</a></h1>
<div class="level1">

<p>

Previous: <a href="/com/jme3/gde/core/docs/jme3/beginner/hello_main_event_loop.html" class="wikilink1" title="jme3:beginner:hello_main_event_loop">Hello Event Loop</a>,
Next: <a href="/com/jme3/gde/core/docs/jme3/beginner/hello_material.html" class="wikilink1" title="jme3:beginner:hello_material">Hello Material</a>
</p>

<p>

By default, SimpleApplication sets up an input system that allows you to steer the camera with the WASD keys, the arrow keys, and the mouse. You can use it as a flying first-person camera right away. But what if you need a third-person camera, or you want keys to trigger special game actions? 
</p>

<p>
Every game has its custom keybindings, and this tutorial explains how you define them. We first define the key presses and mouse events, and then we define the actions they should trigger.
</p>

</div>
<!-- SECTION "Getting Started with JME3 (5) - Hello Input System" [1-633] -->
<h2><a name="sample_code" id="sample_code">Sample Code</a></h2>
<div class="level2">
<pre class="code java"><span class="kw1">package</span> <span class="co2">jme3test.helloworld</span>;
&nbsp;
<span class="kw1">import</span> <span class="co2">com.jme3.app.SimpleApplication</span>;
<span class="kw1">import</span> <span class="co2">com.jme3.material.Material</span>;
<span class="kw1">import</span> <span class="co2">com.jme3.math.Vector3f</span>;
<span class="kw1">import</span> <span class="co2">com.jme3.scene.Geometry</span>;
<span class="kw1">import</span> <span class="co2">com.jme3.scene.shape.Box</span>;
<span class="kw1">import</span> <span class="co2">com.jme3.math.ColorRGBA</span>;
<span class="kw1">import</span> <span class="co2">com.jme3.input.KeyInput</span>;
<span class="kw1">import</span> <span class="co2">com.jme3.input.controls.ActionListener</span>;
<span class="kw1">import</span> <span class="co2">com.jme3.input.controls.AnalogListener</span>;
<span class="kw1">import</span> <span class="co2">com.jme3.input.controls.KeyTrigger</span>;
<span class="kw1">import</span> <span class="co2">com.jme3.input.controls.MouseButtonTrigger</span>;
&nbsp;
<span class="co3">/** Sample 5 - how to map keys and mousebuttons to actions */</span>
<span class="kw1">public</span> <span class="kw1">class</span> HelloInput <span class="kw1">extends</span> SimpleApplication <span class="br0">&#123;</span>
&nbsp;
  <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    HelloInput app <span class="sy0">=</span> <span class="kw1">new</span> HelloInput<span class="br0">&#40;</span><span class="br0">&#41;</span>;
    app.<span class="me1">start</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;
  <span class="br0">&#125;</span>
  <span class="kw1">protected</span> Geometry player;
  <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Aboolean+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object> isRunning<span class="sy0">=</span><span class="kw2">true</span>;
&nbsp;
  @Override
  <span class="kw1">public</span> <span class="kw4">void</span> simpleInitApp<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Abox+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object><span class="br0">&#40;</span>Vector3f.<span class="me1">ZERO</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">1</span><span class="br0">&#41;</span>;
    player <span class="sy0">=</span> <span class="kw1">new</span> Geometry<span class="br0">&#40;</span><span class="st0">&quot;Player&quot;</span>, b<span class="br0">&#41;</span>;
    Material mat <span class="sy0">=</span> <span class="kw1">new</span> Material<span class="br0">&#40;</span>assetManager, <span class="st0">&quot;Common/MatDefs/Misc/SolidColor.j3md&quot;</span><span class="br0">&#41;</span>;
    mat.<span class="me1">setColor</span><span class="br0">&#40;</span><span class="st0">&quot;m_Color&quot;</span>, ColorRGBA.<span class="me1">Blue</span><span class="br0">&#41;</span>;
    player.<span class="me1">setMaterial</span><span class="br0">&#40;</span>mat<span class="br0">&#41;</span>;
    rootNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>player<span class="br0">&#41;</span>;
    initKeys<span class="br0">&#40;</span><span class="br0">&#41;</span>; <span class="co1">// load my custom keybinding</span>
  <span class="br0">&#125;</span>
&nbsp;
  <span class="co3">/** Custom Keybinding: Map named actions to inputs. */</span>
  <span class="kw1">private</span> <span class="kw4">void</span> initKeys<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="co1">// You can map one or several inputs to one named action</span>
    inputManager.<span class="me1">addMapping</span><span class="br0">&#40;</span><span class="st0">&quot;Pause&quot;</span>,  <span class="kw1">new</span> KeyTrigger<span class="br0">&#40;</span>KeyInput.<span class="me1">KEY_P</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
    inputManager.<span class="me1">addMapping</span><span class="br0">&#40;</span><span class="st0">&quot;Left&quot;</span>,   <span class="kw1">new</span> KeyTrigger<span class="br0">&#40;</span>KeyInput.<span class="me1">KEY_J</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
    inputManager.<span class="me1">addMapping</span><span class="br0">&#40;</span><span class="st0">&quot;Right&quot;</span>,  <span class="kw1">new</span> KeyTrigger<span class="br0">&#40;</span>KeyInput.<span class="me1">KEY_K</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
    inputManager.<span class="me1">addMapping</span><span class="br0">&#40;</span><span class="st0">&quot;Rotate&quot;</span>, <span class="kw1">new</span> KeyTrigger<span class="br0">&#40;</span>KeyInput.<span class="me1">KEY_SPACE</span><span class="br0">&#41;</span>,
                                      <span class="kw1">new</span> MouseButtonTrigger<span class="br0">&#40;</span>MouseInput.<span class="me1">BUTTON_LEFT</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
    <span class="co1">// Add the names to the action listener.</span>
    inputManager.<span class="me1">addListener</span><span class="br0">&#40;</span>actionListener, <span class="kw1">new</span> <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object><span class="br0">&#91;</span><span class="br0">&#93;</span><span class="br0">&#123;</span><span class="st0">&quot;Pause&quot;</span><span class="br0">&#125;</span><span class="br0">&#41;</span>;
    inputManager.<span class="me1">addListener</span><span class="br0">&#40;</span>analogListener, <span class="kw1">new</span> <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object><span class="br0">&#91;</span><span class="br0">&#93;</span><span class="br0">&#123;</span><span class="st0">&quot;Left&quot;</span>, <span class="st0">&quot;Right&quot;</span>, <span class="st0">&quot;Rotate&quot;</span><span class="br0">&#125;</span><span class="br0">&#41;</span>;
&nbsp;
  <span class="br0">&#125;</span>
&nbsp;
  <span class="kw1">private</span> <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Aactionlistener+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">public</span> <span class="kw4">void</span> onAction<span class="br0">&#40;</span><object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object> name, <span class="kw4">boolean</span> keyPressed, <span class="kw4">float</span> tpf<span class="br0">&#41;</span> <span class="br0">&#123;</span>
      <span class="kw1">if</span> <span class="br0">&#40;</span>name.<span class="me1">equals</span><span class="br0">&#40;</span><span class="st0">&quot;Pause&quot;</span><span class="br0">&#41;</span> <span class="sy0">&amp;&amp;</span> <span class="sy0">!</span>keyPressed<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        isRunning <span class="sy0">=</span> <span class="sy0">!</span>isRunning;
      <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
  <span class="br0">&#125;</span>;
&nbsp;
  <span class="kw1">private</span> AnalogListener analogListener <span class="sy0">=</span> <span class="kw1">new</span> AnalogListener<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">public</span> <span class="kw4">void</span> onAnalog<span class="br0">&#40;</span><object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object> name, <span class="kw4">float</span> value, <span class="kw4">float</span> tpf<span class="br0">&#41;</span> <span class="br0">&#123;</span>
      <span class="kw1">if</span> <span class="br0">&#40;</span>isRunning<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>name.<span class="me1">equals</span><span class="br0">&#40;</span><span class="st0">&quot;Rotate&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
          player.<span class="me1">rotate</span><span class="br0">&#40;</span>0, value<span class="sy0">*</span>speed, 0<span class="br0">&#41;</span>;
        <span class="br0">&#125;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>name.<span class="me1">equals</span><span class="br0">&#40;</span><span class="st0">&quot;Right&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
          Vector3f v <span class="sy0">=</span> player.<span class="me1">getLocalTranslation</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;
          player.<span class="me1">setLocalTranslation</span><span class="br0">&#40;</span>v.<span class="me1">x</span> <span class="sy0">+</span> value<span class="sy0">*</span>speed, v.<span class="me1">y</span>, v.<span class="me1">z</span><span class="br0">&#41;</span>;
        <span class="br0">&#125;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>name.<span class="me1">equals</span><span class="br0">&#40;</span><span class="st0">&quot;Left&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
          Vector3f v <span class="sy0">=</span> player.<span class="me1">getLocalTranslation</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;
          player.<span class="me1">setLocalTranslation</span><span class="br0">&#40;</span>v.<span class="me1">x</span> <span class="sy0">-</span> value<span class="sy0">*</span>speed, v.<span class="me1">y</span>, v.<span class="me1">z</span><span class="br0">&#41;</span>;
        <span class="br0">&#125;</span>
      <span class="br0">&#125;</span> <span class="kw1">else</span> <span class="br0">&#123;</span>
        <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;Press P to unpause.&quot;</span><span class="br0">&#41;</span>;
      <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
  <span class="br0">&#125;</span>;
<span class="br0">&#125;</span></pre>
<p>
Build and run the example. 
</p>
<ul>
<li class="level1"><div class="li"> Press the Spacebar or click to rotate the cube. </div>
</li>
<li class="level1"><div class="li"> Press the J and K keys to move the cube.</div>
</li>
<li class="level1"><div class="li"> Press P to pause and unpause the game. While paused, the game should not respond to any input, other than <code>P</code>.</div>
</li>
</ul>

</div>
<!-- SECTION "Sample Code" [634-3648] -->
<h2><a name="defining_mappings_and_triggers" id="defining_mappings_and_triggers">Defining Mappings and Triggers</a></h2>
<div class="level2">

<p>

First you register each mapping name with its trigger(s). Remember the following:

</p>
<ul>
<li class="level1"><div class="li"> The trigger can be a key press or mouse action.</div>
</li>
<li class="level1"><div class="li"> The mapping name is a string that you can choose. <br/>
 The name should describe the action, not the trigger.</div>
</li>
<li class="level1"><div class="li"> One named mapping can have several triggers. <br/>
 The “Rotate” action can be triggered by a click and by pressing the spacebar.</div>
</li>
</ul>

<p>

Have a look at the code:
</p>
<ol>
<li class="level1"><div class="li"> You register the mapping named “Rotate” to the Spacebar trigger <br/>
 <code>new KeyTrigger(KeyInput.KEY_SPACE)</code>). </div>
</li>
<li class="level1"><div class="li"> In the same line, you also register “Rotate” to the mouse button trigger <br/>
 <code>new MouseButtonTrigger(MouseInput.BUTTON_LEFT)</code></div>
</li>
<li class="level1"><div class="li"> You map the <code>Pause, Left, Right</code> mappings to the P, J, K keys, respectively. </div>
</li>
<li class="level1"><div class="li"> You register the (on/off) pause action to the ActionListener </div>
</li>
<li class="level1"><div class="li"> You register the (gradual) movement actions to the AnalogListener</div>
</li>
</ol>
<pre class="code java">    <span class="co1">// You can map one or several inputs to one named action</span>
    inputManager.<span class="me1">addMapping</span><span class="br0">&#40;</span><span class="st0">&quot;Pause&quot;</span>,  <span class="kw1">new</span> KeyTrigger<span class="br0">&#40;</span>KeyInput.<span class="me1">KEY_P</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
    inputManager.<span class="me1">addMapping</span><span class="br0">&#40;</span><span class="st0">&quot;Left&quot;</span>,   <span class="kw1">new</span> KeyTrigger<span class="br0">&#40;</span>KeyInput.<span class="me1">KEY_J</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
    inputManager.<span class="me1">addMapping</span><span class="br0">&#40;</span><span class="st0">&quot;Right&quot;</span>,  <span class="kw1">new</span> KeyTrigger<span class="br0">&#40;</span>KeyInput.<span class="me1">KEY_K</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
    inputManager.<span class="me1">addMapping</span><span class="br0">&#40;</span><span class="st0">&quot;Rotate&quot;</span>, <span class="kw1">new</span> KeyTrigger<span class="br0">&#40;</span>KeyInput.<span class="me1">KEY_SPACE</span><span class="br0">&#41;</span>,
                                      <span class="kw1">new</span> MouseButtonTrigger<span class="br0">&#40;</span>MouseInput.<span class="me1">BUTTON_LEFT</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
    <span class="co1">// Add the names to the action listener.</span>
    inputManager.<span class="me1">addListener</span><span class="br0">&#40;</span>actionListener, <span class="kw1">new</span> <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object><span class="br0">&#91;</span><span class="br0">&#93;</span><span class="br0">&#123;</span><span class="st0">&quot;Pause&quot;</span><span class="br0">&#125;</span><span class="br0">&#41;</span>;
    inputManager.<span class="me1">addListener</span><span class="br0">&#40;</span>analogListener, <span class="kw1">new</span> <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object><span class="br0">&#91;</span><span class="br0">&#93;</span><span class="br0">&#123;</span><span class="st0">&quot;Left&quot;</span>, <span class="st0">&quot;Right&quot;</span>, <span class="st0">&quot;Rotate&quot;</span><span class="br0">&#125;</span><span class="br0">&#41;</span>;</pre>
<p>
This code usually goes into the <code>simpleInitApp()</code> method. But since we will likely add many keybindings, we extract these lines and wrap them in an auxiliary method, <code>initKeys()</code>. The <code>initKeys()</code> method is not part of the Input Controls interface – so you can name it whatever you like. Just don&#039;t forget to call your method from the <code>initSimpleApp()</code> method.
</p>

</div>
<!-- SECTION "Defining Mappings and Triggers" [3649-5587] -->
<h2><a name="implementing_the_actions" id="implementing_the_actions">Implementing the Actions</a></h2>
<div class="level2">

<p>

Now you have mapped action names to input triggers. Now you specify the actions themselves.
</p>

<p>
The two important methods here are the <code>ActionListener</code> with its <code>onAction()</code> method, and the <code>AnalogListener</code> with its <code>onAnalog()</code> method. In these two methods, you test for each named mapping, and call the game action you want to trigger. 
</p>

<p>
In this example, we set the following mappings: 

</p>
<ol>
<li class="level1"><div class="li"> The <em>Rotate</em> mapping triggers the action <code>player.rotate(0, value, 0)</code>. </div>
</li>
<li class="level1"><div class="li"> The <em>Left</em> and <em>Right</em> mappings increase and decrease the player&#039;s x coordinate. </div>
</li>
<li class="level1"><div class="li"> The <em>Pause</em> mapping flips a boolean <code>isRunning</code>. </div>
</li>
<li class="level1"><div class="li"> We also want to check the boolean <code>isRunning</code> before any action (other than unpausing) is executed.</div>
</li>
</ol>
<pre class="code java">  <span class="kw1">private</span> <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Aactionlistener+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">public</span> <span class="kw4">void</span> onAction<span class="br0">&#40;</span><object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object> name, <span class="kw4">boolean</span> keyPressed, <span class="kw4">float</span> tpf<span class="br0">&#41;</span> <span class="br0">&#123;</span>
      <span class="kw1">if</span> <span class="br0">&#40;</span>name.<span class="me1">equals</span><span class="br0">&#40;</span><span class="st0">&quot;Pause&quot;</span><span class="br0">&#41;</span> <span class="sy0">&amp;&amp;</span> <span class="sy0">!</span>keyPressed<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        isRunning <span class="sy0">=</span> <span class="sy0">!</span>isRunning;
      <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
  <span class="br0">&#125;</span>;
&nbsp;
  <span class="kw1">private</span> AnalogListener analogListener <span class="sy0">=</span> <span class="kw1">new</span> AnalogListener<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">public</span> <span class="kw4">void</span> onAnalog<span class="br0">&#40;</span><object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object> name, <span class="kw4">float</span> value, <span class="kw4">float</span> tpf<span class="br0">&#41;</span> <span class="br0">&#123;</span>
      <span class="kw1">if</span> <span class="br0">&#40;</span>isRunning<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>name.<span class="me1">equals</span><span class="br0">&#40;</span><span class="st0">&quot;Rotate&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
          player.<span class="me1">rotate</span><span class="br0">&#40;</span>0, value<span class="sy0">*</span>speed, 0<span class="br0">&#41;</span>;
        <span class="br0">&#125;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>name.<span class="me1">equals</span><span class="br0">&#40;</span><span class="st0">&quot;Right&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
          Vector3f v <span class="sy0">=</span> player.<span class="me1">getLocalTranslation</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;
          player.<span class="me1">setLocalTranslation</span><span class="br0">&#40;</span>v.<span class="me1">x</span> <span class="sy0">+</span> value<span class="sy0">*</span>speed, v.<span class="me1">y</span>, v.<span class="me1">z</span><span class="br0">&#41;</span>;
        <span class="br0">&#125;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>name.<span class="me1">equals</span><span class="br0">&#40;</span><span class="st0">&quot;Left&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
          Vector3f v <span class="sy0">=</span> player.<span class="me1">getLocalTranslation</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;
          player.<span class="me1">setLocalTranslation</span><span class="br0">&#40;</span>v.<span class="me1">x</span> <span class="sy0">-</span> value<span class="sy0">*</span>speed, v.<span class="me1">y</span>, v.<span class="me1">z</span><span class="br0">&#41;</span>;
        <span class="br0">&#125;</span>
      <span class="br0">&#125;</span> <span class="kw1">else</span> <span class="br0">&#123;</span>
        <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;Press P to unpause.&quot;</span><span class="br0">&#41;</span>;
      <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
  <span class="br0">&#125;</span>;</pre>
<p>
It&#039;s okay to use only one of the two Listeners, and not implement the other one, if you are not using this type of interaction. In the following, we have a closer look how to decide which of the two listeners is best suited for which situation.
</p>

</div>
<!-- SECTION "Implementing the Actions" [5588-7517] -->
<h2><a name="analog_pressed_or_released" id="analog_pressed_or_released">Analog, Pressed, or Released?</a></h2>
<div class="level2">

<p>

Technically, every input can be an “Analog” or a “on-off Action”. Here is how you find out which listener is the right one for which type of input.
</p>

<p>
Mappings registered to the <strong>AnalogListener</strong> are triggered repeatedly and gradually. 
</p>
<ul>
<li class="level1"><div class="li"> Parameters: </div>
<ol>
<li class="level2"><div class="li"> JME gives you access to the name of the triggered action.</div>
</li>
<li class="level2"><div class="li"> JME gives you access to a gradual value between 0-9 how long the key has been pressed.</div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> Example: Navigational events (e.g. Left, Right, Rotate, Run, Strafe), situations where you interact continuously. </div>
</li>
</ul>

<p>

Mappings registered to the <strong>ActionListener</strong> are treated in an absolute way – “Pressed or released? On or off?”
</p>
<ul>
<li class="level1"><div class="li"> Parameters: </div>
<ol>
<li class="level2"><div class="li"> JME gives you access to the name of the triggered action.</div>
</li>
<li class="level2"><div class="li"> JME gives you access to a boolean whether the key is pressed or not.</div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> Example: Pause button, shooting, selecting, jumping, one-time click interactions.</div>
</li>
</ul>

<p>

<strong>Tip:</strong> It&#039;s very common that you want an action to be only triggered once, in the moment when the key is <em>released</em>. For instance when opening a door, flipping a boolean state, or picking up an item. To achieve that, you use an <code>ActionListener</code> and test for <code>… &amp;&amp; !keyPressed</code>. For an example, look at the Pause button code.
</p>
<pre class="code java">      <span class="kw1">if</span> <span class="br0">&#40;</span>name.<span class="me1">equals</span><span class="br0">&#40;</span><span class="st0">&quot;Pause&quot;</span><span class="br0">&#41;</span> <span class="sy0">&amp;&amp;</span> <span class="sy0">!</span>keyPressed<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        isRunning <span class="sy0">=</span> <span class="sy0">!</span>isRunning;
      <span class="br0">&#125;</span></pre>
</div>
<!-- SECTION "Analog, Pressed, or Released?" [7518-8892] -->
<h2><a name="table_of_triggers" id="table_of_triggers">Table of Triggers</a></h2>
<div class="level2">

<p>

You can find the list of input constants in the files <code>src/core/com/jme3/input/KeyInput.java</code>, <code>JoyInput.java</code>, and <code>MouseInput.java</code>. Here is an overview of the most common triggers constants:

</p>
<table class="inline">
	<tr class="row0">
		<th class="col0"> Trigger </th><th class="col1"> Code </th>
	</tr>
	<tr class="row1">
		<td class="col0"> Mouse button: Left Click </td><td class="col1"> MouseButtonTrigger(MouseInput.BUTTON_LEFT) </td>
	</tr>
	<tr class="row2">
		<td class="col0"> Mouse button: Right Click </td><td class="col1"> MouseButtonTrigger(MouseInput.BUTTON_RIGHT) </td>
	</tr>
	<tr class="row3">
		<td class="col0"> Keyboard: Characters and Numbers </td><td class="col1"> KeyTrigger(KeyInput.KEY_X) </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> Keyboard: Spacebar  </td><td class="col1"> KeyTrigger(KeyInput.KEY_SPACE) </td>
	</tr>
	<tr class="row5">
		<td class="col0"> Keyboard: Return, Enter </td><td class="col1 leftalign"> KeyTrigger(KeyInput.KEY_RETURN), KeyTrigger(KeyInput.KEY_NUMPADENTER)  </td>
	</tr>
	<tr class="row6">
		<td class="col0"> Keyboard: Escape </td><td class="col1"> KeyTrigger(KeyInput.KEY_ESCAPE) </td>
	</tr>
	<tr class="row7">
		<td class="col0"> Keyboard: Arrows </td><td class="col1"> KeyTrigger(KeyInput.KEY_UP), KeyTrigger(KeyInput.KEY_DOWN) <br/>
 KeyTrigger(KeyInput.KEY_LEFT), KeyTrigger(KeyInput.KEY_RIGHT) </td>
	</tr>
</table>

<p>

<strong>Tip:</strong> If you don&#039;t recall an input constant during development, you benefit from an IDE&#039;s code completion functionality: Place the caret after e.g. <code>KeyInput.|</code> and trigger code completion to select possible input identifiers.
</p>

</div>
<!-- SECTION "Table of Triggers" [8893-9955] -->
<h2><a name="exercises" id="exercises">Exercises</a></h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> Add mappings for moving the player (box) up and down with the H and L keys.</div>
</li>
<li class="level1"><div class="li"> Modify the mappings so that you can also trigger the up an down motion with the mouse scroll wheel.</div>
<ul>
<li class="level2"><div class="li"> Tip: Use <code>new MouseAxisTrigger(MouseInput.AXIS_WHEEL, true)</code></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> In which situation would it be better to use variables for the MouseInput/KeyInput definitions? <pre class="code java"><span class="kw4">int</span> usersPauseKey <span class="sy0">=</span> KeyInput.<span class="me1">KEY_P</span>; 
...
<span class="me1">inputManager</span>.<span class="me1">addMapping</span><span class="br0">&#40;</span><span class="st0">&quot;Pause&quot;</span>,  <span class="kw1">new</span> KeyTrigger<span class="br0">&#40;</span>usersPauseKey<span class="br0">&#41;</span><span class="br0">&#41;</span>;</pre></div>
</li>
</ol>

</div>
<!-- SECTION "Exercises" [9956-10458] -->
<h2><a name="conclusion" id="conclusion">Conclusion</a></h2>
<div class="level2">

<p>

You now how to add custom interactions to your game: You know now that you first have to define the key mappings, and then the actions for each mapping. You have learned to respond to mouse events and to the keyboard. You understand the difference between “analog” (gradually repeated) and “digital” (on/off) inputs.
</p>

<p>
Now you can already write a little interactive game! But wouldn&#039;t it be cooler if these old boxes were a bit more fancy? Let&#039;s continue with learning about <a href="/com/jme3/gde/core/docs/jme3/beginner/hello_material.html" class="wikilink1" title="jme3:beginner:hello_material">materials</a>.

</p>

</div>
<!-- SECTION "Conclusion" [10459-] -->
<p><em><a href="http://jmonkeyengine.org/wiki/doku.php/jme3:beginner:hello_input_system?do=export_xhtmlbody">view online version</a></em></p>